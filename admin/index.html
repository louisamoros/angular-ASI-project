<!DOCTYPE html>
<html lang="en" ng-app="adminApp" ng-controller="eventCtrl">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SlideMe Admin</title>

    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css" />
    <link href="css/admin.css" rel="stylesheet">

  </head>
  <body>

      <div class="container-fluid">
        <div class="row">
          <!-- *************   LEFT PANEL  *************-->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <div class="btn-group">
              <button type="button" class="btn btn-default">
                <span class="glyphicon glyphicon-edit" ng-click="newPres()"></span>
              </button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default" ng-click="savePres()">
                  <span class="glyphicon glyphicon-floppy-disk"></span>
                </button>
                <button type="button" class="btn btn-default" ng-click="newSlide()">
                  <span class="glyphicon glyphicon-plus"></span>
                </button>
                <button type="button" class="btn btn-default" ng-click="deleteSlide()">
                  <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="form-group">
              <label>Title</label>
              <input type="text" ng-model="currentPresentation.title" class="form-control">
            </div>
            <div ng-repeat="slid in currentPresentation.slidArray" class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-click="selectCurrentSlid(slid)">
              <h3>{{slid.title}}</h3>
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 slidZoneEmpty"  ng-class="{'slidZoneSelectedEmpty': slid.id == currentSlide.id, 'hide':slid.contentMap[1]!=undefined}">
                Slid Zone
              </div>
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 slidZone"  ng-class="{'slidZoneSelected': slid.id == currentSlide.id, 'hide':slid.contentMap[1]==undefined}">
                <img src="{{uploadsDirectory + contentMap.payload[slid.contentMap[1]].fileName}}" alt="{{uploadsDirectory + contentMap.payload[currentSlide.contentMap[1]].title}}" class="img-responsive">
              </div>
            </div>
        </div>

        <!-- *************   CENTER PANEL  *************-->
        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7" ng-controller="playerCtrl">
          <div class="btn-group">
             <button type="button" class="btn btn-default" ng-click="begin()">
               <span class="glyphicon glyphicon-backward"></span>
             </button>
             <button type="button" class="btn btn-default" ng-click="backward()">
               <span class="glyphicon glyphicon-step-backward"></span>
             </button>
             <button type="button" class="btn btn-default" ng-click="play()">
               <span class="glyphicon glyphicon-play"></span>
             </button>
             <button type="button" class="btn btn-default" ng-click="pause()">
               <span class="glyphicon glyphicon-pause"></span>
             </button>
             <button type="button" class="btn btn-default" ng-click="forward()">
               <span class="glyphicon glyphicon-step-forward"></span>
             </button>
             <button type="button" class="btn btn-default" ng-click="end()">
               <span class="glyphicon glyphicon-forward"></span>
             </button>
           </div>

           <div class="form-group">
             <label>Title</label>
             <input type="text" ng-model="currentSlide.title" class="form-control">
             <label>Description</label>
             <textarea type="text" ng-model="currentSlide.txt" class="form-control"></textarea>
           </div>
           <div ng-drop="true" ng-drop-success="onDropComplete($data,$event)"  style="min-height: 100px; min-width: 100px; border: 2px solid gray;">
             <div ng-show="currentSlide && isSlidContentEmpty(currentSlide)">NO IMAGE SET</div>
             <img src="{{uploadsDirectory + contentMap.payload[currentSlide.contentMap[1]].fileName}}" alt="" class="img-responsive">
           </div>
         </div>

        <!-- *************   RIGHT PANEL  *************-->
        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Search for..." ng-model="searchContent.title">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button">
                <span class="glyphicon glyphicon-search"></span>
              </button>
            </span>
          </div>
          <div id="dropZone">
            <div ng-include="'pages/DropZoneArea.html'"></div>
          </div>
          <div ng-repeat="content in contentMap.array | filter:searchContent | orderBy: 'title'" >
            <div><span>{{content.fileName}}</span></div>
            <div ng-drag="true" ng-drag-data="content" ng-drag-success="onDragComplete($data,$event)">
              <img ng-src="{{uploadsDirectory + content.fileName}}" alt="{{content.title}}" class="img-thumbnail">
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- bower_components -->
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-route/angular-route.js"></script>
    <script src="../bower_components/angular-socket-io/socket.js"></script>
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="../bower_components/dropzone/dist/dropzone.js"></script>
    <script src="../bower_components/ngDraggable/ngDraggable.js"></script>

    <!-- Our javascript -->
    <script src="js/applications/AdminApp.js"></script>
    <script src="js/controllers/EventController.js"></script>
    <script src="js/controllers/PlayerController.js"></script>
    <script src="js/services/FactoryService.js"></script>
    <script src="js/services/CommService.js"></script>
    <script src="js/controllers/DropZoneController.js"></script>
    <script src="/socket.io/socket.io.js"></script>

  </body>
</html>
